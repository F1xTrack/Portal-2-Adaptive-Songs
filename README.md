# Portal 2 Adaptive Songs

**Android-приложение для адаптивного воспроизведения саундтреков из Portal 2 в зависимости от скорости движения пользователя.**

---

## Добавлено в 1.3

- Диалоги переведены на Material 3 (Centered) с кастомным overlay: углы «cut» 12dp, цвета и кнопки — от активной темы.
- История маршрутов (HistoryActivity):
  - Улучшена визуальная консистентность (M3‑диалоги, тема).
- Хранилище: можно удалять треки и статистику.
- Плеер: пауза/возобновление трека при повторном нажатии по айтему из списка.
- Локализация и ресурсы: консолидация строк по локалям, устранение дублей.
- Прочие исправления и улучшения стабильности.

---

## Основные возможности

- Адаптивное переключение между обычной и ускоренной версией трека по скорости пользователя
- Плавный кроссфейд между треками
- Бесшовное зацикливание музыки (loop), включая длинные версии треков
- Рандомизация вариаций треков: автоматический выбор случайной версии `normal*`/`superspeed*`
- Поддержка треков без базовых файлов `normal.wav`/`superspeed.wav` (только вариации `normalN`/`superspeedN`)
- Корректное определение длительности по первой доступной вариации `normal*`
- Современный список треков: карточки с названием, длительностью, количеством прослушиваний
- Поиск по трекам: мгновенный фильтр по названию в общем списке
- Сортировка треков: по алфавиту, частоте использования, длительности
- Статистика: приложение автоматически считает, сколько раз каждый трек был прослушан
- Импорт пользовательских саундтреков из ZIP-архивов (структура: normal.wav и superspeed.wav)
- Массовый импорт: можно импортировать сразу несколько треков из папки с ZIP-архивами
- Длинные версии треков: создаются для обоих режимов одним нажатием, с прогресс-диалогом
- Исправление рассинхрона: для каждого трека можно включить синхронизацию потоков
- Все основные настройки (импорт, длинные версии, рассинхрон) в отдельном меню
- Полная поддержка landscape-режима
- Автоматическая остановка музыки при смене ориентации или закрытии приложения
- Гибкая регулировка громкости: отдельные ползунки для обычного/ускоренного трека и интерфейсных звуков
- Интерфейсные звуки: настройка и мгновенное прослушивание при изменении параметров (speed/nospeed/on/off)
- Мультиязычность: локализации на 12 языков (ar, de, en, es, hi, ja, ko, pl, pt, ru, tr, zh)

---

## Как добавить треки в приложение

**Внимание!** С версии 1.1.1 встроенные саундтреки удалены из APK. Теперь вы можете скачать нужные треки отдельно с [страницы релиза на GitHub](https://github.com/F1xTrack/Portal-2-Adaptive-Songs/releases) и импортировать их в приложение.

### Импорт треков

1. Перейдите на страницу релиза и скачайте ZIP-архив треков (soundtracks.zip).
2. Распакуйте скачанный архив.
3. Откройте приложение, перейдите в меню настроек → Импортировать из папки.
4. Выберите папку, в которую распаковали архив (в ней будет ещё несколько архивов, их не трогайте).

**Требования к ZIP:**
- В архиве должны быть только два файла: `normal.wav` и `superspeed.wav` (без подпапок).
- Имя ZIP-архива станет названием трека в приложении.

---

## Лицензия

MIT License. Используйте, изменяйте и распространяйте приложение свободно, при условии сохранения авторства.

---

## Контакты и обратная связь

- Вопросы и предложения: создавайте issue на GitHub
- Автор: F1xTrack

---
**Portal 2 Adaptive Songs** — сделайте свои прогулки и тренировки атмосферными!
